@media (prefers-color-scheme: dark) {
  // Admonitions
  //
  // Structure of these: (color, key-in-$icons).
  // The colors are translated into CSS variables below, and icons are used for
  // the declarations.
  $admonition-default: #651fff "abstract";
  $admonitions: (
    // Each of these has an reST directives for it.
          "caution": #{$gb-dark-yellow} "spark",
          "warning": #{$gb-dark-yellow} "warning",
          "danger": #{$gb-dark-red} "spark",
          "attention": #{$gb-dark-orange} "warning",
          "error": #{$gb-dark-red} "failure",
          "hint": #{$gb-dark-aqua} "question",
          "important": #{$gb-dark-purple} "flame",
          "note": #{$gb-dark-blue} "pencil",
          "seealso": #{$gb-dark-blue} "info",
          "tip": #{$gb-dark-aqua} "info",
          "admonition-todo": #{$gb-dark-fg4-256} "pencil"
  );

  :root {
    //////////////////////////////////////////////////////////////////////////////
    // Overall Colors
    //     To give the user more control, avoid using these colors directly
    //     outside of this file. Instead, try to define more variables here that
    //     based on these, and use them in the actual stylesheets.
    //////////////////////////////////////////////////////////////////////////////
    --color-problematic: #b30000;

    // Base Colors
    --color-foreground-primary: #{$gb-dark-fg0}; // for main text and headings
    --color-foreground-secondary: #{$gb-dark-fg1}; // for secondary text
    --color-foreground-muted: #{$gb-dark-fg2}; // for muted text
    --color-foreground-border: #{$gb-dark-fg4}; // for content borders

    --color-background-primary: #{$gb-dark-bg0}; // for content
    --color-background-secondary: #{$gb-dark-bg1}; // for navigation + ToC
    --color-background-hover: #{$gb-dark-bg2}; // for navigation-item hover
    --color-background-hover--transparent: #{$gb-dark-bg1};
    --color-background-border: #{$gb-dark-bg4}; // for UI borders

    // Announcements
    --color-announcement-background: #{$gb-dark-bg0};
    --color-announcement-text: #{$gb-dark-fg0};

    // Brand colors
    --color-brand-primary: #{$gb-neutral-yellow};
    --color-brand-content: #{$gb-faded-yellow};

    // API documentation
    --color-api-overall: var(--color-foreground-muted);
    --color-api-name: var(--color-brand-content);
    --color-api-pre-name: var(--color-brand-content);
    --color-api-paren: var(--color-foreground-secondary);
    --color-api-keyword: var(--color-problematic);
    --color-api-highlight-on-target: #ffffcc;

    // Inline code background
    --color-inline-code-background: var(--color-background-secondary);

    // Highlighted text (search)
    --color-highlighted-background: #ddeeff;
    --color-highlighted-text: var(--color-foreground-primary);

    // GUI Labels
    --color-guilabel-background: #ddeeff80;
    --color-guilabel-border: #bedaf580;
    --color-guilabel-text: var(--color-foreground-primary);

    // Admonitions!
    --color-admonition-background: transparent;
    --color-admonition-title: #{nth($admonition-default, 1)};
    --color-admonition-title-background: #{rgba(nth($admonition-default, 1), 0.1)};

    @each $name, $values in $admonitions {
      --color-admonition-title--#{$name}: #{nth($values, 1)};
      --color-admonition-title-background--#{$name}: #{rgba(nth($values, 1), 0.1)};
    }

    //////////////////////////////////////////////////////////////////////////////
    // Everything below this should be one of:
    // - var(...)
    // - *-gradient(...)
    // - special literal values (eg: transparent, none)
    //////////////////////////////////////////////////////////////////////////////

    // Header
    --color-header-background: var(--color-background-primary);
    --color-header-border: var(--color-background-border);
    --color-header-text: var(--color-foreground-primary);

    // Sidebar (left)
    --color-sidebar-background: var(--color-background-secondary);
    --color-sidebar-background-border: var(--color-background-border);

    --color-sidebar-brand-text: var(--color-foreground-primary);
    --color-sidebar-caption-text: var(--color-foreground-muted);
    --color-sidebar-link-text: var(--color-foreground-secondary);
    --color-sidebar-link-text--top-level: var(--color-brand-primary);

    --color-sidebar-item-background: var(--color-sidebar-background);
    --color-sidebar-item-background--current: var(
                    --color-sidebar-item-background
    );
    --color-sidebar-item-background--hover: linear-gradient(
                    90deg,
                    var(--color-background-hover--transparent) 0%,
                    var(--color-background-hover) var(--sidebar-item-spacing-horizontal),
                    var(--color-background-hover) 100%
    );

    --color-sidebar-item-expander-background: transparent;
    --color-sidebar-item-expander-background--hover: var(
                    --color-background-hover
    );

    --color-sidebar-search-text: var(--color-foreground-primary);
    --color-sidebar-search-background: var(--color-background-secondary);
    --color-sidebar-search-background--focus: var(--color-background-primary);
    --color-sidebar-search-border: var(--color-background-border);
    --color-sidebar-search-icon: var(--color-foreground-muted);

    // Table of Contents
    --color-toc-background: var(--color-background-primary);
    --color-toc-title-text: var(--color-foreground-muted);
    --color-toc-item-text: var(--color-foreground-secondary);
    --color-toc-item-text--hover: var(--color-foreground-primary);
    --color-toc-item-text--active: var(--color-brand-primary);

    // Actual page contents
    --color-content-foreground: var(--color-foreground-primary);
    --color-content-background: transparent;

    --color-link: var(--color-brand-content);
    --color-link--hover: var(--color-brand-content);
    --color-link-underline: var(--color-background-border);
    --color-link-underline--hover: var(--color-foreground-border);
  }
}
